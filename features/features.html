<!DOCTYPE html>
<html>

	<head>
		<meta charset = "utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Testing JavaScript</title>
		<link rel = "stylesheet" href = "style.css">
	</head>

	<body>
		<h1>OS Detection</h1>

		<button class = "download-button" type = "button" onclick = "detectOS()">
			<div class = "download-button-text">
				DOWNLOAD
			</div>
		</button>

		<div class = "background-grey">
			<div class = "donate-title">
				Donate
				<div class = "donate-bar"></div>
			</div>			
			<div class = "donate-text">
				Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis cursus nulla justo, bibendum laoreet lectus iaculis sit amet. Phasellus nec commodo erat.
			<button class = "donate-button" type = "button" onclick = "donate()">
				<div class = "donate-button-text">
					DONATE
				</div>
			</button>
		</div>

		<br><br><br><br><br><br><br><br>

		<div class = "example">
			<select>
	  			<option value="" selected disabled hidden>Select OS...</option>
	 		 	<option value="1">Mac OS</option>
	  			<option value="2">Linux</option>
	  			<option value="3">Windows</option>
			</select>
		</div>

		<br><br><br><br>

		<!--surround the select box within a "custom-select" DIV element. Remember to set the width:-->
		<div class="custom-select" style="width:379px;">
  			<select>
    				<option value="0">Select OS...</option>
    				<option value="1">Mac OS</option>
    				<option value="2">Linux</option>
   				<option value="3">Windows</option>
  			</select>
		</div>

		<div class = "background-purple">
			<div class="container">
  				<form action="action_page.php">
					<div class = "contact-text">
						Get in touch with Team Polly
					</div>
					<br>
					<label for="fname"><div class = "contact-info">YOUR E-MAIL ADDRESS</div></label>
    					<input type="text" id="fname" name="firstname" placeholder="user.name@email.com">
					<br><br><br>
    					<label for="subject"><div class = "contact-info">YOUR QUERY/MESSAGE</div></label>
    					<textarea id="subject" name="subject" style="height:200px"></textarea>

    					<!-- <input type="submit" value="Submit"> -->
					<button class = "donate-button" type = "button" onclick = "">
						<div class = "donate-button-text">
							SUBMIT
						</div>
					</button>

  				</form>
			</div>
		</div>

	</body>

	<script src="https://smtpjs.com/v2/smtp.js"></script>

	<script>

		Email = { send: function (e, o, t, n, a, s, r, c) { var d = Math.floor(1e6 * Math.random() + 1), i = "From=" + e; i += "&to=" + o, i += "&Subject=" + encodeURIComponent(t), i += "&Body=" + encodeURIComponent(n), void 0 == a.token ? (i += "&Host=" + a, i += "&Username=" + s, i += "&Password=" + r, i += "&Action=Send") : (i += "&SecureToken=" + a.token, i += "&Action=SendFromStored", c = a.callback), i += "&cachebuster=" + d, Email.ajaxPost("https://smtpjs.com/v2/smtp.aspx?", i, c) }, sendWithAttachment: function (e, o, t, n, a, s, r, c, d) { var i = Math.floor(1e6 * Math.random() + 1), m = "From=" + e; m += "&to=" + o, m += "&Subject=" + encodeURIComponent(t), m += "&Body=" + encodeURIComponent(n), m += "&Attachment=" + encodeURIComponent(c), void 0 == a.token ? (m += "&Host=" + a, m += "&Username=" + s, m += "&Password=" + r, m += "&Action=Send") : (m += "&SecureToken=" + a.token, m += "&Action=SendFromStored"), m += "&cachebuster=" + i, Email.ajaxPost("https://smtpjs.com/v2/smtp.aspx?", m, d) }, ajaxPost: function (e, o, t) { var n = Email.createCORSRequest("POST", e); n.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), n.onload = function () { var e = n.responseText; void 0 != t && t(e) }, n.send(o) }, ajax: function (e, o) { var t = Email.createCORSRequest("GET", e); t.onload = function () { var e = t.responseText; void 0 != o && o(e) }, t.send() }, createCORSRequest: function (e, o) { var t = new XMLHttpRequest; return "withCredentials" in t ? t.open(e, o, !0) : "undefined" != typeof XDomainRequest ? (t = new XDomainRequest).open(e, o) : t = null, t } };

		function detectOS() {	
			var OSName="Unknown OS";
			if (navigator.appVersion.indexOf("Win")!=-1) OSName="Windows";
			if (navigator.appVersion.indexOf("Mac")!=-1) OSName="MacOS";
			if (navigator.appVersion.indexOf("X11")!=-1) OSName="UNIX";
			if (navigator.appVersion.indexOf("Linux")!=-1) OSName="Linux";

			if (OSName == "Windows") {
				window.open("https://www.microsoft.com/en-us");
			} else if (OSName == "MacOS") {
				window.open("https://www.apple.com");
			} else if (OSName == "UNIX") {
				window.open("https://en.wikipedia.org/wiki/Unix");
			} else if (OSName == "Linux") {
				window.open("https://www.youtube.com");
			}
		}
		
		function donate() {
			window.open("https://www.apple.com");
		}

		var x, i, j, selElmnt, a, b, c;
		/*look for any elements with the class "custom-select":*/
		x = document.getElementsByClassName("custom-select");
		for (i = 0; i < x.length; i++) {
  			selElmnt = x[i].getElementsByTagName("select")[0];
  			/*for each element, create a new DIV that will act as the selected item:*/
  			a = document.createElement("DIV");
  			a.setAttribute("class", "select-selected");
  			a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
  			x[i].appendChild(a);
  			/*for each element, create a new DIV that will contain the option list:*/
 			b = document.createElement("DIV");
  			b.setAttribute("class", "select-items select-hide");
  			for (j = 0; j < selElmnt.length; j++) {
    				/*for each option in the original select element, create a new DIV that will act as an option item:*/
    				c = document.createElement("DIV");
    				c.innerHTML = selElmnt.options[j].innerHTML;
    				c.addEventListener("click", function(e) {
        				/*when an item is clicked, update the original select box, and the selected item:*/
        				var y, i, k, s, h;
        				s = this.parentNode.parentNode.getElementsByTagName("select")[0];
        				h = this.parentNode.previousSibling;
        				for (i = 0; i < s.length; i++) {
          					if (s.options[i].innerHTML == this.innerHTML) {
            						s.selectedIndex = i;
            						h.innerHTML = this.innerHTML;
            						y = this.parentNode.getElementsByClassName("same-as-selected");
            						for (k = 0; k < y.length; k++) {
              							y[k].removeAttribute("class");
            						}
            						this.setAttribute("class", "same-as-selected");
            						break;
          					}
        				}
        				h.click();
    				});
    				b.appendChild(c);
  			}
  			x[i].appendChild(b);
  			a.addEventListener("click", function(e) {
      				/*when the select box is clicked, close any other select boxes, and open/close the current select box:*/
      				e.stopPropagation();
      				closeAllSelect(this);
      				this.nextSibling.classList.toggle("select-hide");
      				this.classList.toggle("select-arrow-active");
    			});
		}
		function closeAllSelect(elmnt) {
  			/*a function that will close all select boxes in the document, except the current select box:*/
  			var x, y, i, arrNo = [];
  			x = document.getElementsByClassName("select-items");
  			y = document.getElementsByClassName("select-selected");
  			for (i = 0; i < y.length; i++) {
    				if (elmnt == y[i]) {
      					arrNo.push(i)
    				} else {
      					y[i].classList.remove("select-arrow-active");
    				}
  			}
  			for (i = 0; i < x.length; i++) {
    				if (arrNo.indexOf(i)) {
      					x[i].classList.add("select-hide");
    				}
  			}
		}
		/*if the user clicks anywhere outside the select box, then close all select boxes:*/
		document.addEventListener("click", closeAllSelect);
	</script>

</html>
